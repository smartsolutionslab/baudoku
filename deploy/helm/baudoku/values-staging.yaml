global:
  image:
    pullPolicy: Always
  imagePullSecrets:
    - name: ghcr-credentials

services:
  projectsApi:
    replicaCount: 1
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Staging
      - name: ConnectionStrings__ProjectsDb
        valueFrom:
          secretKeyRef:
            name: baudoku-db-credentials
            key: projects-connection-string

  documentationApi:
    replicaCount: 1
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Staging
      - name: ConnectionStrings__DocumentationDb
        valueFrom:
          secretKeyRef:
            name: baudoku-db-credentials
            key: documentation-connection-string

  syncApi:
    replicaCount: 1
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Staging
      - name: ConnectionStrings__SyncDb
        valueFrom:
          secretKeyRef:
            name: baudoku-db-credentials
            key: sync-connection-string

  apiGateway:
    replicaCount: 1
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Staging

ingress:
  enabled: true
  className: nginx
  host: staging.baudoku.apps.smartsolutionslab.tech
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  tls:
    - secretName: baudoku-staging-tls
      hosts:
        - staging.baudoku.apps.smartsolutionslab.tech

dashboard:
  enabled: true
  image:
    pullPolicy: Always
  auth:
    browserToken: true
    secretName: baudoku-dashboard-auth
    secretKey: browser-token
  ingress:
    enabled: true
    host: monitoring.staging.baudoku.apps.smartsolutionslab.tech
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    tls:
      - secretName: baudoku-monitoring-staging-tls
        hosts:
          - monitoring.staging.baudoku.apps.smartsolutionslab.tech

otel:
  enabled: true
  endpoint: http://aspire-dashboard:18889
