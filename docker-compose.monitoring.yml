# Standalone Aspire Dashboard for local development without Aspire orchestration.
#
# Usage:
#   docker compose -f docker-compose.monitoring.yml up -d
#
# Then set for each .NET service you run locally:
#   OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:18889
#
# Dashboard UI: http://localhost:18888

services:
  aspire-dashboard:
    image: mcr.microsoft.com/dotnet/aspire-dashboard:9.2
    container_name: baudoku-aspire-dashboard
    ports:
      - "18888:18888"  # Dashboard UI
      - "18889:18889"  # OTLP gRPC
      - "18890:18890"  # OTLP HTTP
    environment:
      DOTNET_DASHBOARD_UNSECURED_ALLOW_ANONYMOUS: "true"
      DASHBOARD__OTLP__GRPC__ENDPOINT: http://0.0.0.0:18889
      DASHBOARD__OTLP__HTTP__ENDPOINT: http://0.0.0.0:18890
    restart: unless-stopped
